# apps/adguard-home/services.yaml
apiVersion: v1
kind: Service
metadata:
  name: adguard-home-dns
  namespace: network
spec:
  type: LoadBalancer
  loadBalancerIP: 192.168.4.201  # Next in your MetalLB pool
  ports:
  - port: 53
    protocol: UDP
    name: dns-udp
  - port: 53
    protocol: TCP
    name: dns-tcp
  selector:
    app: adguard-home
---
apiVersion: v1
kind: Service
metadata:
  name: adguard-home-web
  namespace: network
spec:
  type: ClusterIP
  ports:
  - port: 3000
    targetPort: 3000
    name: web
  selector:
    app: adguard-home
---
apiVersion: v1
kind: Service
metadata:
  name: adguard-home-nodeport
  namespace: network
spec:
  type: NodePort
  ports:
  - port: 3000
    targetPort: 3000
    nodePort: 32611
    name: web
  selector:
    app: adguard-home